# 琴家曲谱馆登陆流程整理## 场景1；### 场景描述：
用户刚刚安装完app，app没有储存任何用户信息。### 用户动作1.1：
用户点击个人中心的“点击登陆”按钮。#### 程序反应1.1：
跳转到登录页。### 用户动作1.2：用户输入电话号码并获取验证码后点击确认登录####程序反应1.2：
调用3.2.1接口上传appVersion、appVersion、deviceId、deviceId、deviceId等参数进行注册。>注册成功：保存返回的userId和regMode、logName，紧接著调用3.2.2接口上传参数appVersion、platformType、deviceId、userId、regMode、logName、userState>>登录成功：跳转到个人中心页，并显示默认头像>>登录失败：出现表示失败的窗口，用户可点击重新尝试>注册失败：出现表示失败的窗口，用户可点击重新尝试。
### 用户动作1.3:用户点击微信按钮，跳入微信并授权成功。#### 程序反应1.3: 调用3.2.1接口上传appVersion、appVersion、deviceId、deviceId、deviceId等参数进行注册。>注册成功：保存返回的userId和regMode、logName、微信昵称、头像链接，授权日期refreshToken紧接著调用3.2.2接口上传参数appVersion、platformType、deviceId、userId、regMode、logName、userState>>登录成功：跳转到个人中心页，并显示默认头像>>登录失败：出现表示失败的窗口，用户可点击重新尝试>注册失败：出现表示失败的窗口，用户可点击重新尝试。## 场景2；场景描述：用户打开app后程序有regMode和logName参数保存在本地。用户动作1：用户打开app程序反应2.1：程序恢复到登录完成的状态，并且调用登录的接口登录，成功或失败无反应## 场景3:场景描述：登录成功后的状态，个人中心页面上有头像有字用户动作1：用户点击头像程序反应3.1：程序进入个人信息页（里面有头像、昵称、推出登录按钮）用户动作2：用户点击退出登录按钮程序反应3.2：程序恢复到场景1的状态，并且调用退出的接口。成功或失败无反应
